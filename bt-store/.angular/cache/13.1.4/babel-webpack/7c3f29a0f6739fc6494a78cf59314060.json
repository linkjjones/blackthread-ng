{"ast":null,"code":"import _asyncToGenerator from \"C:\\\\Dev\\\\blackthread-ng\\\\bt-store\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\asyncToGenerator.js\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"./product.service\";\nimport * as i2 from \"@angular/common/http\";\nimport * as i3 from \"@angular/forms\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/router\";\nimport * as i6 from \"../shared/star.component\";\nimport * as i7 from \"./product-add-edit.component\";\nimport * as i8 from \"../shared/replace-string-with-string.pipe\";\n\nfunction ProductListComponent_table_13_tr_17_img_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"img\", 17);\n  }\n\n  if (rf & 2) {\n    const product_r2 = i0.ɵɵnextContext().$implicit;\n    const ctx_r3 = i0.ɵɵnextContext(2);\n    i0.ɵɵstyleProp(\"width\", ctx_r3.imageWidth, \"px\")(\"margin\", ctx_r3.imageMargin, \"px\");\n    i0.ɵɵproperty(\"src\", product_r2.imageUrl, i0.ɵɵsanitizeUrl)(\"title\", product_r2.productName);\n  }\n}\n\nconst _c0 = function (a1) {\n  return [\"/products\", a1];\n};\n\nfunction ProductListComponent_table_13_tr_17_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"tr\");\n    i0.ɵɵelementStart(1, \"td\");\n    i0.ɵɵtemplate(2, ProductListComponent_table_13_tr_17_img_2_Template, 1, 6, \"img\", 14);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵelementStart(4, \"a\", 15);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"td\");\n    i0.ɵɵtext(7);\n    i0.ɵɵpipe(8, \"replaceStringWithString\");\n    i0.ɵɵpipe(9, \"lowercase\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"td\");\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"td\");\n    i0.ɵɵtext(13);\n    i0.ɵɵpipe(14, \"currency\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"td\");\n    i0.ɵɵelementStart(16, \"pm-star\", 16);\n    i0.ɵɵlistener(\"ratingClicked\", function ProductListComponent_table_13_tr_17_Template_pm_star_ratingClicked_16_listener($event) {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r5 = i0.ɵɵnextContext(2);\n      return ctx_r5.onRatingClicked($event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const product_r2 = ctx.$implicit;\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.showImage);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(18, _c0, product_r2.productId));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", product_r2.productName, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind3(8, 7, i0.ɵɵpipeBind1(9, 11, product_r2.productCode), \"-\", \" - \"));\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(product_r2.releaseDate);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind4(14, 13, product_r2.price, \"USD\", \"symbol\", \"1.2-2\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"rating\", product_r2.starRating);\n  }\n}\n\nfunction ProductListComponent_table_13_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"table\", 11);\n    i0.ɵɵelementStart(1, \"thead\");\n    i0.ɵɵelementStart(2, \"tr\");\n    i0.ɵɵelementStart(3, \"th\");\n    i0.ɵɵelementStart(4, \"button\", 12);\n    i0.ɵɵlistener(\"click\", function ProductListComponent_table_13_Template_button_click_4_listener() {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r7 = i0.ɵɵnextContext();\n      return ctx_r7.toggleImages();\n    });\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"th\");\n    i0.ɵɵtext(7, \"Product\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"th\");\n    i0.ɵɵtext(9, \"Code\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"th\");\n    i0.ɵɵtext(11, \"Available\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"th\");\n    i0.ɵɵtext(13, \"Price\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"th\");\n    i0.ɵɵtext(15, \"5 Star Rating\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"tbody\");\n    i0.ɵɵtemplate(17, ProductListComponent_table_13_tr_17_Template, 17, 20, \"tr\", 13);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.showImage ? \"Hide\" : \"Show\", \" Images \");\n    i0.ɵɵadvance(12);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.filteredProducts$);\n  }\n}\n\nexport class ProductListComponent {\n  constructor(productService, http) {\n    this.productService = productService;\n    this.http = http;\n    this.pageTitle = 'Product List';\n    this.imageWidth = 50;\n    this.imageMargin = 2;\n    this.showImage = true;\n    this.errorMessage = '';\n    this._listFilter = '';\n    this.products = [];\n  }\n\n  ngOnInit() {\n    // get product data\n    // this.getProductData();\n    this.getProductsAll(); // get form data\n\n    this.getFormData();\n  }\n\n  getProductsAll() {\n    this.productService.getProductsAll.then(data => {\n      this.products = data;\n      this.filteredProducts$ = this.products;\n    }).catch(data => {\n      console.log(\"Error loading data. Please contact your administrator.\");\n    });\n  } // get data from json file \n  // getProductData(): void {\n  //     this.productSub = this.productService.getProducts().subscribe({\n  //         next: (products: any) => {\n  //             this.products = products;\n  //             this.filteredProducts = this.products;\n  //         },\n  //         error: (err: any) => this.errorMessage = err\n  //     });\n  // }\n\n\n  getFormData() {\n    this.formDataSub = this.productService.getFormData().subscribe({\n      next: data => {\n        this.formData = data;\n      },\n      error: err => this.errorMessage = err\n    });\n  }\n\n  get listFilter() {\n    return this._listFilter;\n  }\n\n  set listFilter(value) {\n    this._listFilter = value; // console.log('in setter: ', value);\n\n    this.filteredProducts$ = this.performFilter(value);\n  }\n\n  performFilter(filterBy) {\n    filterBy = filterBy.toLowerCase();\n    return this.products.filter(product => product.productName.toLowerCase().includes(filterBy));\n  }\n\n  toggleImages() {\n    this.showImage = !this.showImage;\n  }\n\n  onRatingClicked(message) {\n    this.pageTitle = 'Product List' + message;\n  }\n\n  addProduct() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      yield _this.productService.addProduct();\n\n      _this.getProductsAll();\n    })();\n  }\n\n  ngOnDestroy() {\n    this.productSub.unsubscribe();\n  }\n\n}\n\nProductListComponent.ɵfac = function ProductListComponent_Factory(t) {\n  return new (t || ProductListComponent)(i0.ɵɵdirectiveInject(i1.ProductService), i0.ɵɵdirectiveInject(i2.HttpClient));\n};\n\nProductListComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ProductListComponent,\n  selectors: [[\"ng-component\"]],\n  decls: 17,\n  vars: 4,\n  consts: [[1, \"card\"], [1, \"card-header\"], [1, \"card-body\"], [1, \"row\"], [1, \"col-md-2\"], [1, \"col-md-4\"], [\"type\", \"text\", 3, \"ngModel\", \"ngModelChange\"], [1, \"col-md-6\"], [1, \"table-responsive\"], [\"class\", \"table\", 4, \"ngIf\"], [3, \"jsonFormData\"], [1, \"table\"], [1, \"btn\", \"btn-primary\", 3, \"click\"], [4, \"ngFor\", \"ngForOf\"], [3, \"src\", \"title\", \"width\", \"margin\", 4, \"ngIf\"], [3, \"routerLink\"], [3, \"rating\", \"ratingClicked\"], [3, \"src\", \"title\"]],\n  template: function ProductListComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵelementStart(1, \"div\", 1);\n      i0.ɵɵtext(2);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(3, \"div\", 2);\n      i0.ɵɵelementStart(4, \"div\", 3);\n      i0.ɵɵelementStart(5, \"div\", 4);\n      i0.ɵɵtext(6, \"Filter by:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(7, \"div\", 5);\n      i0.ɵɵelementStart(8, \"input\", 6);\n      i0.ɵɵlistener(\"ngModelChange\", function ProductListComponent_Template_input_ngModelChange_8_listener($event) {\n        return ctx.listFilter = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(9, \"div\", 3);\n      i0.ɵɵelementStart(10, \"div\", 7);\n      i0.ɵɵelement(11, \"h4\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(12, \"div\", 8);\n      i0.ɵɵtemplate(13, ProductListComponent_table_13_Template, 18, 2, \"table\", 9);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(14, \"div\", 3);\n      i0.ɵɵelementStart(15, \"div\", 7);\n      i0.ɵɵelement(16, \"pm-product-add-edit\", 10);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(2);\n      i0.ɵɵtextInterpolate1(\" \", ctx.pageTitle, \" \");\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"ngModel\", ctx.listFilter);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngIf\", ctx.products.length);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"jsonFormData\", ctx.formData);\n    }\n  },\n  directives: [i3.DefaultValueAccessor, i3.NgControlStatus, i3.NgModel, i4.NgIf, i4.NgForOf, i5.RouterLinkWithHref, i6.StarComponent, i7.ProductAddEditComponent],\n  pipes: [i8.ReplaceStringWithStringPipe, i4.LowerCasePipe, i4.CurrencyPipe],\n  styles: [\"thead[_ngcontent-%COMP%] {\\r\\n    color: #337a33\\r\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByb2R1Y3QtbGlzdC5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0k7QUFDSiIsImZpbGUiOiJwcm9kdWN0LWxpc3QuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbInRoZWFkIHtcclxuICAgIGNvbG9yOiAjMzM3YTMzXHJcbn0iXX0= */\"]\n});","map":{"version":3,"sources":["C:/Dev/blackthread-ng/bt-store/src/app/products/product-list.component.ts"],"names":["i0","i1","i2","i3","i4","i5","i6","i7","i8","ProductListComponent_table_13_tr_17_img_2_Template","rf","ctx","ɵɵelement","product_r2","ɵɵnextContext","$implicit","ctx_r3","ɵɵstyleProp","imageWidth","imageMargin","ɵɵproperty","imageUrl","ɵɵsanitizeUrl","productName","_c0","a1","ProductListComponent_table_13_tr_17_Template","_r6","ɵɵgetCurrentView","ɵɵelementStart","ɵɵtemplate","ɵɵelementEnd","ɵɵtext","ɵɵpipe","ɵɵlistener","ProductListComponent_table_13_tr_17_Template_pm_star_ratingClicked_16_listener","$event","ɵɵrestoreView","ctx_r5","onRatingClicked","ctx_r1","ɵɵadvance","showImage","ɵɵpureFunction1","productId","ɵɵtextInterpolate1","ɵɵtextInterpolate","ɵɵpipeBind3","ɵɵpipeBind1","productCode","releaseDate","ɵɵpipeBind4","price","starRating","ProductListComponent_table_13_Template","_r8","ProductListComponent_table_13_Template_button_click_4_listener","ctx_r7","toggleImages","ctx_r0","filteredProducts$","ProductListComponent","constructor","productService","http","pageTitle","errorMessage","_listFilter","products","ngOnInit","getProductsAll","getFormData","then","data","catch","console","log","formDataSub","subscribe","next","formData","error","err","listFilter","value","performFilter","filterBy","toLowerCase","filter","product","includes","message","addProduct","ngOnDestroy","productSub","unsubscribe","ɵfac","ProductListComponent_Factory","t","ɵɵdirectiveInject","ProductService","HttpClient","ɵcmp","ɵɵdefineComponent","type","selectors","decls","vars","consts","template","ProductListComponent_Template","ProductListComponent_Template_input_ngModelChange_8_listener","length","directives","DefaultValueAccessor","NgControlStatus","NgModel","NgIf","NgForOf","RouterLinkWithHref","StarComponent","ProductAddEditComponent","pipes","ReplaceStringWithStringPipe","LowerCasePipe","CurrencyPipe","styles"],"mappings":"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","sourcesContent":["import * as i0 from \"@angular/core\";\r\nimport * as i1 from \"./product.service\";\r\nimport * as i2 from \"@angular/common/http\";\r\nimport * as i3 from \"@angular/forms\";\r\nimport * as i4 from \"@angular/common\";\r\nimport * as i5 from \"@angular/router\";\r\nimport * as i6 from \"../shared/star.component\";\r\nimport * as i7 from \"./product-add-edit.component\";\r\nimport * as i8 from \"../shared/replace-string-with-string.pipe\";\r\nfunction ProductListComponent_table_13_tr_17_img_2_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelement(0, \"img\", 17);\r\n} if (rf & 2) {\r\n    const product_r2 = i0.ɵɵnextContext().$implicit;\r\n    const ctx_r3 = i0.ɵɵnextContext(2);\r\n    i0.ɵɵstyleProp(\"width\", ctx_r3.imageWidth, \"px\")(\"margin\", ctx_r3.imageMargin, \"px\");\r\n    i0.ɵɵproperty(\"src\", product_r2.imageUrl, i0.ɵɵsanitizeUrl)(\"title\", product_r2.productName);\r\n} }\r\nconst _c0 = function (a1) { return [\"/products\", a1]; };\r\nfunction ProductListComponent_table_13_tr_17_Template(rf, ctx) { if (rf & 1) {\r\n    const _r6 = i0.ɵɵgetCurrentView();\r\n    i0.ɵɵelementStart(0, \"tr\");\r\n    i0.ɵɵelementStart(1, \"td\");\r\n    i0.ɵɵtemplate(2, ProductListComponent_table_13_tr_17_img_2_Template, 1, 6, \"img\", 14);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(3, \"td\");\r\n    i0.ɵɵelementStart(4, \"a\", 15);\r\n    i0.ɵɵtext(5);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(6, \"td\");\r\n    i0.ɵɵtext(7);\r\n    i0.ɵɵpipe(8, \"replaceStringWithString\");\r\n    i0.ɵɵpipe(9, \"lowercase\");\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(10, \"td\");\r\n    i0.ɵɵtext(11);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(12, \"td\");\r\n    i0.ɵɵtext(13);\r\n    i0.ɵɵpipe(14, \"currency\");\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(15, \"td\");\r\n    i0.ɵɵelementStart(16, \"pm-star\", 16);\r\n    i0.ɵɵlistener(\"ratingClicked\", function ProductListComponent_table_13_tr_17_Template_pm_star_ratingClicked_16_listener($event) { i0.ɵɵrestoreView(_r6); const ctx_r5 = i0.ɵɵnextContext(2); return ctx_r5.onRatingClicked($event); });\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementEnd();\r\n} if (rf & 2) {\r\n    const product_r2 = ctx.$implicit;\r\n    const ctx_r1 = i0.ɵɵnextContext(2);\r\n    i0.ɵɵadvance(2);\r\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.showImage);\r\n    i0.ɵɵadvance(2);\r\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(18, _c0, product_r2.productId));\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵtextInterpolate1(\" \", product_r2.productName, \" \");\r\n    i0.ɵɵadvance(2);\r\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind3(8, 7, i0.ɵɵpipeBind1(9, 11, product_r2.productCode), \"-\", \" - \"));\r\n    i0.ɵɵadvance(4);\r\n    i0.ɵɵtextInterpolate(product_r2.releaseDate);\r\n    i0.ɵɵadvance(2);\r\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind4(14, 13, product_r2.price, \"USD\", \"symbol\", \"1.2-2\"));\r\n    i0.ɵɵadvance(3);\r\n    i0.ɵɵproperty(\"rating\", product_r2.starRating);\r\n} }\r\nfunction ProductListComponent_table_13_Template(rf, ctx) { if (rf & 1) {\r\n    const _r8 = i0.ɵɵgetCurrentView();\r\n    i0.ɵɵelementStart(0, \"table\", 11);\r\n    i0.ɵɵelementStart(1, \"thead\");\r\n    i0.ɵɵelementStart(2, \"tr\");\r\n    i0.ɵɵelementStart(3, \"th\");\r\n    i0.ɵɵelementStart(4, \"button\", 12);\r\n    i0.ɵɵlistener(\"click\", function ProductListComponent_table_13_Template_button_click_4_listener() { i0.ɵɵrestoreView(_r8); const ctx_r7 = i0.ɵɵnextContext(); return ctx_r7.toggleImages(); });\r\n    i0.ɵɵtext(5);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(6, \"th\");\r\n    i0.ɵɵtext(7, \"Product\");\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(8, \"th\");\r\n    i0.ɵɵtext(9, \"Code\");\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(10, \"th\");\r\n    i0.ɵɵtext(11, \"Available\");\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(12, \"th\");\r\n    i0.ɵɵtext(13, \"Price\");\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(14, \"th\");\r\n    i0.ɵɵtext(15, \"5 Star Rating\");\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(16, \"tbody\");\r\n    i0.ɵɵtemplate(17, ProductListComponent_table_13_tr_17_Template, 17, 20, \"tr\", 13);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementEnd();\r\n} if (rf & 2) {\r\n    const ctx_r0 = i0.ɵɵnextContext();\r\n    i0.ɵɵadvance(5);\r\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.showImage ? \"Hide\" : \"Show\", \" Images \");\r\n    i0.ɵɵadvance(12);\r\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.filteredProducts$);\r\n} }\r\nexport class ProductListComponent {\r\n    constructor(productService, http) {\r\n        this.productService = productService;\r\n        this.http = http;\r\n        this.pageTitle = 'Product List';\r\n        this.imageWidth = 50;\r\n        this.imageMargin = 2;\r\n        this.showImage = true;\r\n        this.errorMessage = '';\r\n        this._listFilter = '';\r\n        this.products = [];\r\n    }\r\n    ngOnInit() {\r\n        // get product data\r\n        // this.getProductData();\r\n        this.getProductsAll();\r\n        // get form data\r\n        this.getFormData();\r\n    }\r\n    getProductsAll() {\r\n        this.productService.getProductsAll\r\n            .then((data) => {\r\n            this.products = data;\r\n            this.filteredProducts$ = this.products;\r\n        })\r\n            .catch((data) => {\r\n            console.log(\"Error loading data. Please contact your administrator.\");\r\n        });\r\n    }\r\n    // get data from json file \r\n    // getProductData(): void {\r\n    //     this.productSub = this.productService.getProducts().subscribe({\r\n    //         next: (products: any) => {\r\n    //             this.products = products;\r\n    //             this.filteredProducts = this.products;\r\n    //         },\r\n    //         error: (err: any) => this.errorMessage = err\r\n    //     });\r\n    // }\r\n    getFormData() {\r\n        this.formDataSub = this.productService.getFormData().subscribe({\r\n            next: (data) => {\r\n                this.formData = data;\r\n            },\r\n            error: (err) => this.errorMessage = err\r\n        });\r\n    }\r\n    get listFilter() {\r\n        return this._listFilter;\r\n    }\r\n    set listFilter(value) {\r\n        this._listFilter = value;\r\n        // console.log('in setter: ', value);\r\n        this.filteredProducts$ = this.performFilter(value);\r\n    }\r\n    performFilter(filterBy) {\r\n        filterBy = filterBy.toLowerCase();\r\n        return this.products.filter((product) => product.productName.toLowerCase().includes(filterBy));\r\n    }\r\n    toggleImages() {\r\n        this.showImage = !this.showImage;\r\n    }\r\n    onRatingClicked(message) {\r\n        this.pageTitle = 'Product List' + message;\r\n    }\r\n    async addProduct() {\r\n        await this.productService.addProduct();\r\n        this.getProductsAll();\r\n    }\r\n    ngOnDestroy() {\r\n        this.productSub.unsubscribe();\r\n    }\r\n}\r\nProductListComponent.ɵfac = function ProductListComponent_Factory(t) { return new (t || ProductListComponent)(i0.ɵɵdirectiveInject(i1.ProductService), i0.ɵɵdirectiveInject(i2.HttpClient)); };\r\nProductListComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: ProductListComponent, selectors: [[\"ng-component\"]], decls: 17, vars: 4, consts: [[1, \"card\"], [1, \"card-header\"], [1, \"card-body\"], [1, \"row\"], [1, \"col-md-2\"], [1, \"col-md-4\"], [\"type\", \"text\", 3, \"ngModel\", \"ngModelChange\"], [1, \"col-md-6\"], [1, \"table-responsive\"], [\"class\", \"table\", 4, \"ngIf\"], [3, \"jsonFormData\"], [1, \"table\"], [1, \"btn\", \"btn-primary\", 3, \"click\"], [4, \"ngFor\", \"ngForOf\"], [3, \"src\", \"title\", \"width\", \"margin\", 4, \"ngIf\"], [3, \"routerLink\"], [3, \"rating\", \"ratingClicked\"], [3, \"src\", \"title\"]], template: function ProductListComponent_Template(rf, ctx) { if (rf & 1) {\r\n        i0.ɵɵelementStart(0, \"div\", 0);\r\n        i0.ɵɵelementStart(1, \"div\", 1);\r\n        i0.ɵɵtext(2);\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(3, \"div\", 2);\r\n        i0.ɵɵelementStart(4, \"div\", 3);\r\n        i0.ɵɵelementStart(5, \"div\", 4);\r\n        i0.ɵɵtext(6, \"Filter by:\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(7, \"div\", 5);\r\n        i0.ɵɵelementStart(8, \"input\", 6);\r\n        i0.ɵɵlistener(\"ngModelChange\", function ProductListComponent_Template_input_ngModelChange_8_listener($event) { return ctx.listFilter = $event; });\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(9, \"div\", 3);\r\n        i0.ɵɵelementStart(10, \"div\", 7);\r\n        i0.ɵɵelement(11, \"h4\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(12, \"div\", 8);\r\n        i0.ɵɵtemplate(13, ProductListComponent_table_13_Template, 18, 2, \"table\", 9);\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(14, \"div\", 3);\r\n        i0.ɵɵelementStart(15, \"div\", 7);\r\n        i0.ɵɵelement(16, \"pm-product-add-edit\", 10);\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n    } if (rf & 2) {\r\n        i0.ɵɵadvance(2);\r\n        i0.ɵɵtextInterpolate1(\" \", ctx.pageTitle, \" \");\r\n        i0.ɵɵadvance(6);\r\n        i0.ɵɵproperty(\"ngModel\", ctx.listFilter);\r\n        i0.ɵɵadvance(5);\r\n        i0.ɵɵproperty(\"ngIf\", ctx.products.length);\r\n        i0.ɵɵadvance(3);\r\n        i0.ɵɵproperty(\"jsonFormData\", ctx.formData);\r\n    } }, directives: [i3.DefaultValueAccessor, i3.NgControlStatus, i3.NgModel, i4.NgIf, i4.NgForOf, i5.RouterLinkWithHref, i6.StarComponent, i7.ProductAddEditComponent], pipes: [i8.ReplaceStringWithStringPipe, i4.LowerCasePipe, i4.CurrencyPipe], styles: [\"thead[_ngcontent-%COMP%] {\\r\\n    color: #337a33\\r\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByb2R1Y3QtbGlzdC5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0k7QUFDSiIsImZpbGUiOiJwcm9kdWN0LWxpc3QuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbInRoZWFkIHtcclxuICAgIGNvbG9yOiAjMzM3YTMzXHJcbn0iXX0= */\"] });\r\n"]},"metadata":{},"sourceType":"module"}